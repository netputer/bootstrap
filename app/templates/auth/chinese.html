<div ng-switch on="autoAuth">
    <div class="wd-portal" ng-switch-when="false" ng-show="deviceNum<0">
        <div class="a" ng-switch on="isSupport">
            <div class="announcement" ng-show="isShowAnnouncement">
                {{$root.DICT.portal.ANNOUNCEMENT}}
                <a href="http://snappea.zendesk.com/entries/24375503--Official-Version-1-5-Now-with-Google-Sign-In" target="_blank">Learn More »</a>
                <a href="javascript:void(0)" class="close-announcement" ng-click="closeAnnouncement()"></a>
            </div>
            <div class="container" ng-switch-when="true">
                <h1>{{$root.DICT.portal.H1}}</h1>
                <p>{{$root.DICT.portal.H1_P}}</p>

                <!-- google signin -->
                <a href="https://account.wandoujia.com/v1/user/?do=login&callback=http://localhost:3501/" class="btn google-btn">
                    豌豆荚账号登陆
                </a>
                <!-- google signin end -->

            </div>
            <div class="container" ng-switch-when="false">
                <h1>{{$root.DICT.portal.UNSUPPORTED_H1}}</h1>
                <p>{{$root.DICT.portal.UNSUPPORTED_H1_P}}</p>
                <a href="http://www.google.com/chrome/" ng-click="$root.GA('login:to_chrome')" target="_blank" class="btn btn-primary btn-large" style="margin-top: 60px;">{{$root.DICT.portal.DOWNLOAD_CHROME}}</a>
            </div>
        </div>
        <div class="b">
            <div class="container">
                <div class="row">
                    <div class="span6">
                        <h2>{{$root.DICT.portal.H2}}</h2>
                        <p ng-bind-html-unsafe="$root.DICT.portal.H2_P"></p>
                    </div>
                    <div class="span5">
                        <a href="https://play.google.com/store/apps/details?id=com.snappea" class="link-to-gp" target="_blank"></a>
                        <a href="http://snappea.zendesk.com/entries/23345336--Official-Security-for-SnapPea-Web"></a>
                    </div>
                </div>
                <ul class="inline">
                    <li>{{$root.DICT.portal.LINK_COPYRIGHT}}</li>
                    <li><a href="http://www.snappea.com/about.html">{{$root.DICT.portal.LINK_ABOUT}}</a></li>
                    <li><a href="http://www.snappea.com/terms.html">{{$root.DICT.portal.LINK_TERMS}}</a></li>
                    <li><a href="http://snappea.zendesk.com/entries/23345336--Official-Security-for-SnapPea-Web">{{$root.DICT.portal.LINK_PRIVACY}}</a></li>
                </ul>
            </div>
        </div>
    </div>

    <div class="wd-loading" ng-switch-when="true" data-visible="true"></div>
</div>

<div class="devices-tpl" ng-show="deviceNum>=0">
    <div class="sign-out">
        <a href="https://account.wandoujia.com/v1/user/?do=logout&callback=http://localhost:3501/">
            退出豌豆荚账号
        </a>
    </div>

    <!-- no device start -->
    <div class="no-device" ng-show="deviceNum==0">
        <h1>{{$root.DICT.portal.NO_DEVICES.h1}}</h1>
        <p>{{$root.DICT.portal.NO_DEVICES.h2}}</p>
        <div class="step">
            <dl class="step1">
                <dt></dt>
                <dd>{{$root.DICT.portal.NO_DEVICES.step1}} <a href="https://play.google.com/store/apps/details?id=com.snappea">Google Play</a>.</dd>
            </dl>
            <dl class="step2">
                <dt></dt>
                <dd>{{$root.DICT.portal.NO_DEVICES.step2}}</dd>
            </dl>
            <dl class="step3">
                <dt></dt>
                <dd>{{$root.DICT.portal.NO_DEVICES.step3}} <span>{{accountEmail || $root.DICT.portal.SHOW_ACCOUNT_NAME_DEFAULT}}</span></dd>
            </dl>
            <p>{{$root.DICT.portal.NO_DEVICES.foot}}<a href="https://play.google.com/store/apps/details?id=com.snappea">{{$root.DICT.portal.NO_DEVICES.foot_updata}}</a>.</p>
        </div>
    </div>
    <!-- no device end -->

    <!-- select devices start -->
    <div class="select-device" ng-show="deviceNum>=1">
        <h1>{{$root.DICT.portal.SELECT_DEVICES.h1}}</h1>
        <p>{{$root.DICT.portal.SELECT_DEVICES.h2_1}} <span>{{deviceNum}}</span> {{$root.DICT.portal.SELECT_DEVICES.h2_2}}</p>
        <div class="list">
            <div ng-repeat="item in devicesList" ng-click="connectPhone(item);">
                <p>{{item.model}}</p>
                <span class="wifi" ng-show="!item.loading">
                    <i class="icon-wifi"></i><p>{{item.attributes.ssid}}</p>
                </span>
                <div class="wd-loading phone-loading" data-visible="true" ng-show="item.loading"></div>
            </div>
            <p><a ng-click="showConnectNewPhone()" href=""> + {{$root.DICT.portal.SELECT_DEVICES.new_phone}}</a></p>
        </div>
    </div>
    <!-- select devices end -->



</div>

<!-- connect new phone pop start -->
<!-- data-ok 是事件 -->
<div class="change-devices-pop bs-modal" data-toggle="isShowChangeDevicesPop" data-ok="" data-cancel="isShowChangeDevicesPop=false;" data-header="">
    <div class="content">
        <h1>{{$root.DICT.portal.CHANGE_DEVICES_POP.h1}}</h1>
        <p>{{$root.DICT.portal.CHANGE_DEVICES_POP.h2}}</p>
        <div class="step">
            <dl class="step1">
                <dt></dt>
                <dd>{{$root.DICT.portal.CHANGE_DEVICES_POP.step1}} <a href="https://play.google.com/store/apps/details?id=com.snappea">Google Play</a>.</dd>
            </dl>
            <dl class="step2">
                <dt></dt>
                <dd>{{$root.DICT.portal.CHANGE_DEVICES_POP.step2}}</dd>
            </dl>
            <dl class="step3">
                <dt></dt>
                <dd>{{$root.DICT.portal.CHANGE_DEVICES_POP.step3}} <span>{{accountEmail || $root.DICT.portal.SHOW_ACCOUNT_NAME_DEFAULT}}</span> . </dd>
            </dl>
        </div>
        <button class="btn btn-primary" bs-modal-cancel>{{$root.DICT.portal.CHANGE_DEVICES_POP.button}}</button>
    </div>
</div>
<!-- connect new phone pop end -->

<div class="loading-google" ng-show="isLoadingDevices">
    <div class="wd-loading" data-visible="true"></div>
</div>
